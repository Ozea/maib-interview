(this["webpackJsonpmaib-interview"]=this["webpackJsonpmaib-interview"]||[]).push([[7],{1518:function(e,a,t){"use strict";var n=t(1528),c=t.n(n).a.create();a.a=c},1688:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return M}));var n=t(4),c=t(82),i=t(39),r=t(34),s=t(74),l=t(1602),j=t(1475),o=t(1679),b=t(1451),d=t(64),u=t(1683),p=t(1487),h=t(1505),O=t(1682),x=t(1511),m=t(1672),g=t(1673),f=t(1674),N=t(1675),v=t(1676),y=t(1677),k=t(1678),T=t(1504),S=t.n(T),P=t(0),C=Object(j.a)((function(e){return{spinner:{margin:e.spacing(2,4,1)}}}));function D(e){var a=e.loading,t=e.data,c=void 0===t?[]:t,i=(Object(x.a)(e,["loading","data"]),C()),r=Object(P.useState)([]),l=Object(s.a)(r,2),j=l[0],o=l[1];return Object(P.useEffect)((function(){o(c)}),[c]),Object(n.jsx)(m.a,{component:b.a,className:i.paper,children:a?Object(n.jsx)(g.a,{className:i.spinner}):Object(n.jsxs)(f.a,{"aria-label":"simple table",children:[Object(n.jsx)(N.a,{children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)(y.a,{children:Object(n.jsx)("b",{children:"Nume Prenume"})}),Object(n.jsx)(y.a,{children:Object(n.jsx)("b",{children:"IDNP"})}),Object(n.jsx)(y.a,{children:Object(n.jsx)("b",{children:"Nr. Telefon"})}),Object(n.jsx)(y.a,{children:Object(n.jsx)("b",{children:"PAN Card"})}),Object(n.jsx)(y.a,{children:Object(n.jsx)("b",{children:"Last transaction"})})]})}),Object(n.jsxs)(k.a,{children:[a?null:j.map((function(e){return Object(n.jsxs)(v.a,{children:[Object(n.jsxs)(y.a,{children:[e.firstName," ",e.lastName]}),Object(n.jsx)(y.a,{children:e.idnp}),Object(n.jsx)(y.a,{children:e.phoneNumber}),Object(n.jsx)(y.a,{children:e.panCard}),Object(n.jsx)(y.a,{children:S()(e.lastTransaction).format("HH:mm DD/MM/YYYY")})]},e.id)})),!j.length&&Object(n.jsx)(v.a,{children:Object(n.jsx)(y.a,{colSpan:"5",align:"center",children:"Sorry, no data found"})})]})]})})}var w=t(1518),I=t(3),L=Object(j.a)((function(e){return{root:{padding:e.spacing(3,5,3)},paper:{background:e.palette.primary.light,padding:e.spacing(2,5),"& h5":{fontWeight:"bolder"}},marginOffset:{marginBottom:e.spacing(2)},label:{"& label":{color:e.palette.primary.light}},sticky:{padding:e.spacing(1,5,2),position:"sticky",top:"64px",background:"#fafafa",boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)"},datePicker:{margin:0,"& label":{color:e.palette.primary.light}},button:{width:"100%",height:"100%",margin:e.spacing(0,3),borderRadius:0,fontWeight:"bolder"}}}));function M(){var e=L(),a=Object(P.useState)(!1),t=Object(s.a)(a,2),j=t[0],x=t[1],m=Object(P.useState)([]),g=Object(s.a)(m,2),f=g[0],N=g[1],v=Object(P.useState)([]),y=Object(s.a)(v,2),k=y[0],T=y[1],S=Object(P.useState)({idnp:"",phoneNumber:"",lastTransaction:""}),C=Object(s.a)(S,2),M=C[0],Y=C[1];Object(P.useEffect)((function(){x(!0),w.a.get("/api/support").then((function(e){N(e.data.items),T(e.data.items),x(!1)})).catch()}),[]);var E=function(e,a){if(!e||!a)return!0;var t=new Date(e),n=new Date(a);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate()},A=function(e,a){Y(Object(i.a)(Object(i.a)({},M),{},Object(c.a)({},e,a)))};return Object(n.jsxs)(o.a,{container:!0,children:[Object(n.jsx)(o.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{className:e.paper,elevation:0,square:!0,children:Object(n.jsx)(d.a,{variant:"h5",children:"Support"})})}),Object(n.jsxs)(o.a,{container:!0,className:Object(I.a)(e.root,e.sticky),children:[Object(n.jsx)(o.a,{item:!0,xs:12,className:e.marginOffset,children:Object(n.jsx)(d.a,{variant:"h6",children:"Cauta utilizator:"})}),Object(n.jsx)(o.a,{item:!0,xs:2,children:Object(n.jsx)(u.a,{className:e.label,label:"IDNP",value:M.idnp,onChange:function(e){return A("idnp",e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(o.a,{item:!0,xs:2,children:Object(n.jsx)(u.a,{className:e.label,label:"Nr. telefon",value:M.phoneNumber,onChange:function(e){return A("phoneNumber",e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(o.a,{item:!0,xs:2,children:Object(n.jsx)(h.a,{utils:l.a,children:Object(n.jsx)(o.a,{container:!0,justify:"space-around",children:Object(n.jsx)(O.a,{disableToolbar:!0,className:e.datePicker,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Data access",value:M.lastTransaction||null,onChange:function(e){return A("lastTransaction",e)},KeyboardButtonProps:{"aria-label":"change date"},InputLabelProps:{shrink:!0}})})})}),Object(n.jsx)(o.a,{item:!0,xs:2,children:Object(n.jsx)(p.a,{variant:"contained",onClick:function(){var e=Object(r.a)(f),a=M.idnp,t=M.phoneNumber,n=M.lastTransaction,c=e.filter((function(e){return e.idnp.includes(a)&&e.phoneNumber.includes(t)&&E(e.lastTransaction,n)}));x(!0),setTimeout((function(){T(c),x(!1)}),1500)},color:"secondary",className:e.button,children:"CAUTA"})}),Object(n.jsx)(o.a,{item:!0,xs:2,style:{marginLeft:"10px"},children:Object(n.jsx)(p.a,{variant:"outlined",onClick:function(){x(!0),Y(Object(i.a)(Object(i.a)({},M),{},{idnp:"",phoneNumber:"",lastTransaction:""})),setTimeout((function(){T(f),x(!1)}),1e3)},color:"secondary",className:e.button,children:"RESET FILTERS"})})]}),Object(n.jsx)(o.a,{container:!0,className:e.root,children:Object(n.jsx)(o.a,{item:!0,xs:11,children:Object(n.jsx)(D,{data:k,loading:j})})})]})}}}]);
//# sourceMappingURL=7.8d3ac6a5.chunk.js.map